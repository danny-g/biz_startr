var viewport = d3.select("div#viewport")
var map = d3.select("svg");

// center the container/viewport on the screen
viewport.attr("style", "margin: 50px auto auto 150px");


// Color all 50 states but Michigan which is wrapped in a g element
map.selectAll("path.state")
  .attr("fill","#d3d3d3")
  .attr("stroke", "#fff")
  .attr("stroke-width", 0.75)
  .attr("stroke-opacity", 1);

// Michigan is wrapped in a g element
map.selectAll("g.state")
.attr("fill","#d3d3d3")
.attr("stroke", "#fff")
.attr("stroke-width", 0.75)
.attr("stroke-opacity", 1);

// add links to each state that redirects to 'maps/state_goes_here'
for (var i = 0; i < gon.state_abbrs.length; i++) {
  map.select("path#" + gon.state_abbrs[i].state_abbr)
    .attr("fill", "green")
    .on("click", function() {
      // window.location = '/maps/' + this.id;
      window.location = '/maps?id=' + this.id;


      // Get the content for this state
      // respond_to do
      //  format.json { json: @data }
      // end

      // var destination = $('#stateInformation');

      // var state = this.id;
      // $.getJSON("/maps/" + state,function() {
      //   // Remove the old content
      //   destination.html("");

      //   // Add the new content

      //   // Scroll the screen down

      // });


    })
    .attr("style", "cursor: pointer");
}

